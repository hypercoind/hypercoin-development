---
import { getCollection } from 'astro:content';
import ProjectCard from './ProjectCard.astro';

const projects = await getCollection('projects');
const sortedProjects = projects.sort((a, b) => a.data.sortOrder - b.data.sortOrder);
---

<section id="projects" class="projects projects-hero">
  <div class="container">
    <div class="projects-grid">
      {sortedProjects.map((project) => (
        <ProjectCard
          title={project.data.title}
          description={project.data.description}
          status={project.data.status}
          tech={project.data.tech}
          siteUrl={project.data.siteUrl}
          repoUrl={project.data.repoUrl}
          icon={project.data.icon}
        />
      ))}
    </div>
  </div>
</section>
